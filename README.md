# 矩阵变换实现鼠标滚轮缩放及画布拖动

## 前言

在之前的[Canvas鼠标滚轮缩放以及画布拖动(图文并茂版)](https://juejin.cn/post/7198767799484563516)一文中我曾经介绍过一种实现鼠标滚轮缩放及画布拖动的方法，但是这种方式利用的是Canvas的api进行缩放和拖动，并且实现原理理解起来也比较抽象。

本文将介绍一种更加便捷、通用的方式来实现鼠标滚轮缩放及画布拖动的方式，这就是**矩阵变换**。

## 矩阵变换

矩阵变换**就是一种坐标系的转换**，因此在图形学中，就会使用矩阵变换来进行图形的变化，比如平移、缩放、旋转。接下来我会重点介绍本文所涉及到的平移和缩放变换。

### 平移

假设有一个点 `A(x, y)`，平移到点 `B(x1, y1)`，在水平方向位移 `dx`，垂直方向的位移 `dy`，那么就可以得到如下公式：

$$
x1 = x + dx
$$
$$
y1 = y + dy
$$
如果将上述变换公式转换为矩阵变换的形式可以得到如下矩阵变换公式:


$$
\left[
\begin{matrix}
  x & y & 1
\end{matrix}
\right]
\left[
\begin{matrix}
  1 & 0 & 0 \\
  0 & 1 & 0 \\
  dx & dy & 1
\end{matrix}
\right] = \left[
\begin{matrix}
x+dx \\
y+dy \\
1 \\
\end{matrix}
\right]
$$


